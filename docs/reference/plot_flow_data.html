<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot daily mean streamflow — plot_flow_data • fasstr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot daily mean streamflow — plot_flow_data" />
<meta property="og:description" content="Plot the daily mean flow values from a streamflow dataset. Plots the statistics from all daily discharge values from all 
   years, unless specified. Can choose specific dates to start and end plotting. Can choose to plot out each year separately. Data 
   calculated using calc_daily_stats() function. Multiple groups/stations can be plotted if provided with the groups argument." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fasstr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fasstr.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fasstr_users_guide.html">Users Guide</a>
    </li>
    <li>
      <a href="../articles/fasstr_trending_analysis.html">Computing Annual Trends</a>
    </li>
    <li>
      <a href="../articles/fasstr_frequency_analysis.html">Computing Volume Frequency Analyses</a>
    </li>
    <li>
      <a href="../articles/fasstr_full_analysis.html">Computing a Full Analysis</a>
    </li>
    <li>
      <a href="../articles/fasstr_under_the_hood.html">Under the Hood</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bcgov/fasstr/raw/master/fasstr_cheatsheet.pdf">
    <span class="fa fa-file-download"></span>
     
    Download Cheatsheet
  </a>
</li>
<li>
  <a href="https://github.com/bcgov/fasstr">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot daily mean streamflow</h1>
    <small class="dont-index">Source: <a href='https://github.com/bcgov/fasstr/blob/master/R/plot_flow_data.R'><code>R/plot_flow_data.R</code></a></small>
    <div class="hidden name"><code>plot_flow_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot the daily mean flow values from a streamflow dataset. Plots the statistics from all daily discharge values from all 
   years, unless specified. Can choose specific dates to start and end plotting. Can choose to plot out each year separately. Data 
   calculated using calc_daily_stats() function. Multiple groups/stations can be plotted if provided with the <code>groups</code> argument.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_flow_data</span>(
  <span class='no'>data</span>,
  <span class='kw'>dates</span> <span class='kw'>=</span> <span class='no'>Date</span>,
  <span class='kw'>values</span> <span class='kw'>=</span> <span class='no'>Value</span>,
  <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>STATION_NUMBER</span>,
  <span class='no'>station_number</span>,
  <span class='kw'>roll_days</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>roll_align</span> <span class='kw'>=</span> <span class='st'>"right"</span>,
  <span class='kw'>water_year_start</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='no'>start_year</span>,
  <span class='no'>end_year</span>,
  <span class='no'>exclude_years</span>,
  <span class='no'>start_date</span>,
  <span class='no'>end_date</span>,
  <span class='kw'>log_discharge</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>plot_by_year</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>one_plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>include_title</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame of daily data that contains columns of dates, flow values, and (optional) groups (e.g. station numbers).
Leave blank if using <code>station_number</code> argument.</p></td>
    </tr>
    <tr>
      <th>dates</th>
      <td><p>Column in <code>data</code> that contains dates formatted YYYY-MM-DD. Only required if dates column name is not '
Date' (default). Leave blank if using <code>station_number</code> argument.</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>Column in <code>data</code> that contains numeric flow values, in units of cubic metres per second.
Only required if values column name is not 'Value' (default). Leave blank if using <code>station_number</code> argument.</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>Column in <code>data</code> that contains unique identifiers for different data sets, if applicable. Only required if
groups column name is not 'STATION_NUMBER'. Function will automatically group by a column named 'STATION_NUMBER' if present.
Remove the 'STATION_NUMBER' column beforehand to remove this grouping. Leave blank if using <code>station_number</code> argument.</p></td>
    </tr>
    <tr>
      <th>station_number</th>
      <td><p>A character string vector of seven digit Water Survey of Canada station numbers (e.g. <code>"08NM116"</code>) of
which to extract daily streamflow data from a HYDAT database. Requires <code>tidyhydat</code> package and a HYDAT database.
Leave blank if using <code>data</code> argument.</p></td>
    </tr>
    <tr>
      <th>roll_days</th>
      <td><p>Numeric value of the number of days to apply a rolling mean. Default <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>roll_align</th>
      <td><p>Character string identifying the direction of the rolling mean from the specified date, either by the first 
('left'), last ('right), or middle ('center') day of the rolling n-day group of observations. Default <code>'right'</code>.</p></td>
    </tr>
    <tr>
      <th>water_year_start</th>
      <td><p>Numeric value indicating the month of the start of the water year for analysis. Default <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>start_year</th>
      <td><p>Numeric value of the first year to consider for analysis. Leave blank to use the first year of the source data.</p></td>
    </tr>
    <tr>
      <th>end_year</th>
      <td><p>Numeric value of the last year to consider for analysis. Leave blank to use the last year of the source data.</p></td>
    </tr>
    <tr>
      <th>exclude_years</th>
      <td><p>Numeric vector of years to exclude from analysis. Leave blank to include all years.</p></td>
    </tr>
    <tr>
      <th>start_date</th>
      <td><p>Date (YYYY-MM-DD) of first date to consider for plotting. Leave blank if all years are required.</p></td>
    </tr>
    <tr>
      <th>end_date</th>
      <td><p>Date (YYYY-MM-DD) of last date to consider for plotting. Leave blank if all years are required.</p></td>
    </tr>
    <tr>
      <th>log_discharge</th>
      <td><p>Logical value to indicate plotting the discharge axis (Y-axis) on a logarithmic scale. Default <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>plot_by_year</th>
      <td><p>Logical value to indicate whether to plot each year of data individually. Default <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>one_plot</th>
      <td><p>Logical value to indicate whether to plot all groups/stations on one plot. Default <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>include_title</th>
      <td><p>Logical value to indicate adding the group/station number to the plot, if provided. Default <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot2 object of daily flows from flow_data or HYDAT flow data provided</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Run if HYDAT database has been downloaded (using tidyhydat::download_hydat())</span>
<span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span>(<span class='kw pkg'>tidyhydat</span><span class='kw ns'>::</span><span class='fu'><a href='https://docs.ropensci.org/tidyhydat/reference/hy_test_db.html'>hy_downloaded_db</a></span>())) {

<span class='co'># Plot data from a data frame and data argument</span>
<span class='no'>flow_data</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tidyhydat</span><span class='kw ns'>::</span><span class='fu'><a href='https://docs.ropensci.org/tidyhydat/reference/hy_daily_flows.html'>hy_daily_flows</a></span>(<span class='kw'>station_number</span> <span class='kw'>=</span> <span class='st'>"08NM116"</span>)
<span class='fu'>plot_flow_data</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>flow_data</span>)

<span class='co'># Plot data directly from HYDAT</span>
<span class='fu'>plot_flow_data</span>(<span class='kw'>station_number</span> <span class='kw'>=</span> <span class='st'>"08NM116"</span>)

<span class='co'># Plot statistics with custom years</span>
<span class='fu'>plot_flow_data</span>(<span class='kw'>station_number</span> <span class='kw'>=</span> <span class='st'>"08NM116"</span>,
               <span class='kw'>start_year</span> <span class='kw'>=</span> <span class='fl'>1981</span>,
               <span class='kw'>end_year</span> <span class='kw'>=</span> <span class='fl'>2010</span>,
               <span class='kw'>exclude_years</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1991</span>,<span class='fl'>1993</span>:<span class='fl'>1995</span>))

<span class='co'># Plot data between specific dates</span>
<span class='fu'>plot_flow_data</span>(<span class='kw'>station_number</span> <span class='kw'>=</span> <span class='st'>"08NM116"</span>,
               <span class='kw'>start_date</span> <span class='kw'>=</span> <span class='st'>"1990-01-01"</span>,
               <span class='kw'>end_date</span> <span class='kw'>=</span> <span class='st'>"1990-06-01"</span>)

<span class='co'># Plot data multiple groups on one plot</span>
<span class='fu'>plot_flow_data</span>(<span class='kw'>station_number</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"08NM241"</span>, <span class='st'>"08NM242"</span>),
               <span class='kw'>one_plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

}</div><div class='output co'>#&gt; <span class='warning'>Warning: Did not plot 3394 missing or excluded values between 1949-01-01 and 2017-12-31.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Did not plot 3394 missing or excluded values between 1949-01-01 and 2017-12-31.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Did not plot 1460 missing or excluded values between 1981-01-01 and 2010-12-31.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Did not plot 328 missing or excluded values between 1983-01-01 and 2016-12-31.</span></div><div class='output co'>#&gt; $Daily_Flows</div><div class='img'><img src='plot_flow_data-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jon Goetz, Carl James Schwarz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


