<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started with fasstr • fasstr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started with fasstr">
<meta property="og:description" content="fasstr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fasstr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fasstr.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fasstr_users_guide.html">Users Guide</a>
    </li>
    <li>
      <a href="../articles/fasstr_trending_analysis.html">Computing Annual Trends</a>
    </li>
    <li>
      <a href="../articles/fasstr_frequency_analysis.html">Computing Volume Frequency Analyses</a>
    </li>
    <li>
      <a href="../articles/fasstr_full_analysis.html">Computing a Full Analysis</a>
    </li>
    <li>
      <a href="../articles/fasstr_under_the_hood.html">Under the Hood</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bcgov/fasstr/raw/master/fasstr_cheatsheet.pdf">
    <span class="fa fa-file-download"></span>
     
    Download Cheatsheet
  </a>
</li>
<li>
  <a href="https://github.com/bcgov/fasstr">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started with fasstr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bcgov/fasstr/blob/master/vignettes/fasstr.Rmd"><code>vignettes/fasstr.Rmd</code></a></small>
      <div class="hidden name"><code>fasstr.Rmd</code></div>

    </div>

    
    
<p>The Flow Analysis Summary Statistics Tool for R (‘fasstr’) is a set of <a href="http://www.r-project.org">R</a> functions to clean, summarize, analyze, trend, and visualize streamflow data. This package summarizes continuous daily mean streamflow data into various daily, monthly, annual, and long-term statistics, completes annual trends and frequency analyses, in both table and plot formats.</p>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<p>This package provides functions with solutions for streamflow data:</p>
<ul>
<li>cleaning (to prepare data for analyses; <code>add_*</code> and <code>fill_*</code> functions),</li>
<li>screening (to look for outliers and missing data; <code>screen_*</code> functions),</li>
<li>analyzing (basic summary statistics, frequency analyses, trending ;<code>calc_*</code> and <code>compute_*</code> functions), and</li>
<li>visualizing (to plot statistics; <code>plot_*</code> functions), amongst others.</li>
</ul>
<p>Useful features of functions include:</p>
<ul>
<li>the integration of the ‘tidyhydat’ package to pull streamflow data from a Water Survey of Canada <a href="https://www.canada.ca/en/environment-climate-change/services/water-overview/quantity/monitoring/survey/data-products-services/national-archive-hydat.html">HYDAT</a> database for analyses;</li>
<li>arguments for filtering of years and months in analyses and plotting (internally tidys your data);</li>
<li>choosing the start month of your water year;</li>
<li>selecting for rolling day averages (e.g. 7-day rolling average);</li>
<li>plotting options;and,</li>
<li>choosing how missing dates are handled, amongst others.</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install ‘fasstr’ using the following code. It may take a few moments as there are several dependency packages will also be installed, including <a href="https://CRAN.R-project.org/package=tidyhydat">‘tidyhydat’</a> for downloading Water Survey of Canada hydrometric data, <a href="https://CRAN.R-project.org/package=zyp">‘zyp’</a> for trending, <a href="https://CRAN.R-project.org/package=ggplot2">‘ggplot2’</a> for creating plots, and <a href="https://CRAN.R-project.org/package=dplyr">‘dplyr’</a> and <a href="https://CRAN.R-project.org/package=tidyr">‘tidyr’</a> for various data wrangling and summarizing functions, amongst others.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"fasstr"</span>)</pre></body></html></div>
<p>To install the development version of the ‘fasstr’ package, you need to install the remotes package then the ‘fasstr’ package.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="kw">if</span>(!<span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span>(<span class="st">"remotes"</span>)) <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"remotes"</span>)
<span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"bcgov/fasstr"</span>)</pre></body></html></div>
<p>To call the ‘fasstr’ functions you can either load the package using the <code><a href="https://rdrr.io/pkg/fasstr/man">library(fasstr)</a></code> function or access a specific function using a double-colon (e.g. <code><a href="../reference/calc_daily_stats.html">fasstr::calc_daily_stats()</a></code>).</p>
<p>To utilize the ‘tidyhydat’ features (using the station_number argument), you will need to download a HYDAT database using the <code><a href="https://docs.ropensci.org/tidyhydat/reference/download_hydat.html">tidyhydat::download_hydat()</a></code> function.</p>
</div>
<div id="using-fasstr" class="section level2">
<h2 class="hasAnchor">
<a href="#using-fasstr" class="anchor"></a>Using fasstr</h2>
<div id="data-input" class="section level3">
<h3 class="hasAnchor">
<a href="#data-input" class="anchor"></a>Data Input</h3>
<p>All functions in ‘fasstr’ require a daily mean streamflow dataset from one or more hydrometric stations. Long-term and continuous datasets are preferred for most analyses, but seasonal and partial data can be used. Other daily time series data, like temperature, precipitation or water levels, may also be used, but with certain caution as some calculations/conversions are based on units of streamflow (cubic metres per second). Data is provided to each function using the either the <code>data</code> argument, as a data frame, or the <code>station_number</code> argument, as a list of Water Survey of Canada HYDAT station numbers.</p>
<p>Using the <code>data</code> option, a data frame of daily data containing columns of dates (YYYY-MM-DD in date format), values (mean daily discharge in cubic metres per second in numeric format), and, optionally, grouping identifiers (character string of station names or numbers) is called. By default the functions will look for columns identified as ‘Date’, ‘Value’, and ‘STATION_NUMBER’, respectively, to be compatible with the ‘tidyhydat’ defaults, but columns of different names can be identified using the <code>dates</code>, <code>values</code>, <code>groups</code> column arguments (ex. <code>values = Yield_mm</code>). The following is an example of an appropriate dataframe (STATION_NUMBER not required):</p>
<pre><code>##   STATION_NUMBER       Date Value
## 1        08NM116 1949-04-01  1.13
## 2        08NM116 1949-04-02  1.53
## 3        08NM116 1949-04-03  2.07
## 4        08NM116 1949-04-04  2.07
## 5        08NM116 1949-04-05  2.21
## 6        08NM116 1949-04-06  2.21</code></pre>
<p>Alternatively, you can directly extract a flow data set directly from a HYDAT database by listing station numbers in the <code>station_number</code> argument (ex. <code>station_number = "08NM116"</code> or <code>station_number = c("08NM116", "08NM242")</code>) while leaving the data arguments blank. A data frame of daily streamflow data for all stations listed will be extracted using ‘tidyhydat’. Use the following function to download a HYDAT database:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="kw pkg">tidyhydat</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/tidyhydat/reference/download_hydat.html">download_hydat</a></span>()</pre></body></html></div>
<p>This package allows for multiple stations (or other groupings) to be analyzed in many of the functions provided identifiers are provided using the <code>groups</code> column argument (defaults to STATION_NUMBER). If grouping column doesn’t exist or is improperly named, then all values listed in the <code>values</code> column will be summarized.</p>
</div>
<div id="function-types" class="section level3">
<h3 class="hasAnchor">
<a href="#function-types" class="anchor"></a>Function Types</h3>
<div id="cleaning" class="section level4">
<h4 class="hasAnchor">
<a href="#cleaning" class="anchor"></a>Cleaning</h4>
<p>These functions, that start with <code>add_*</code> and <code>fill_*</code>, add columns and rows, respectively, to your streamflow data frame to help set up your data for further analysis. Examples include adding rolling means, adding date variables (Year, Month, DayofYear, etc.), adding basin areas, adding columns of volumetric and yield discharge, and filling dates with missing flow values with <code>NA</code>.</p>
</div>
<div id="analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h4>
<p>The analysis functions summarize your discharge values into various statistics. <code>screen_*</code> functions summarize annual data for outliers and missing dates. <code>calc_*</code> functions calculate daily, monthly, annual, and long-term statistics (e.g. mean, median, maximum, minimum, percentiles, amongst others) of daily, rolling days, and cumulative flow data. <code>compute_*</code> functions also analyze data but produce more in-depth analyses, like frequency and trending analysis, and may produce multiple plots and tables as a result. All tables are in tibble data frame formats. Can use <code><a href="../reference/write_flow_data.html">write_flow_data()</a></code> or <code><a href="../reference/write_results.html">write_results()</a></code> to customize saving tibbles to a local drive.</p>
</div>
<div id="visualization" class="section level4">
<h4 class="hasAnchor">
<a href="#visualization" class="anchor"></a>Visualization</h4>
<p>The visualization functions, which begin with <code>plot_*</code> plot the various summary statistics and analyses as a way to visualize the data. While most plotting functions are as customizable as the analysis functions, some come pre-set with statistics that cannot be changed for consistency. Plots can be modified by the user using the <code>ggplot2</code> package and its functions. All plots functions produce lists of plots (even if just one produced). Can use <code><a href="../reference/write_plots.html">write_plots()</a></code> to customize saving the lists of plots to a local drive (within folders or PDF documents).</p>
</div>
</div>
<div id="function-options" class="section level3">
<h3 class="hasAnchor">
<a href="#function-options" class="anchor"></a>Function Options</h3>
<div id="daily-rolling-means" class="section level4">
<h4 class="hasAnchor">
<a href="#daily-rolling-means" class="anchor"></a>Daily Rolling Means</h4>
<p>If certain n-day rolling mean statistics are desired to be analyzed (e.g. 3- or 7-day rolling means) some functions provide the ability to select for that as function arguments (e.g. <code>rolling_days = 7</code> and <code>rolling_align = "right"</code>). The rolling day align is the placement of the date amongst the n-day means, where “right” averages the day-of and previous n-1 days, “centre” date is in the middle of the averages, and “left” averages the day-of and the following n-1 days. For your own analyses you can add rolling means to your dataset using the <code><a href="../reference/add_rolling_means.html">add_rolling_means()</a></code> function.</p>
</div>
<div id="year-and-month-filtering" class="section level4">
<h4 class="hasAnchor">
<a href="#year-and-month-filtering" class="anchor"></a>Year and Month Filtering</h4>
<p>To customize your analyses for specific time periods, you can designate the start and end years of your analysis using the <code>start_year</code> and <code>end_year</code> arguments and remove any unwanted years (for partial datasets for example) by listing them in the <code>excluded_years</code> argument (e.g. <code>excluded_years = c(1990, 1992:1994)</code>). Alternatively, some functions have an argument called <code>complete_years</code> that summarizes data from just those years which have a complete flow record. Some functions will also allow you to select the months of a year to analyze, using the <code>months</code> argument, as opposed to all months (if you want just summer low-flows, for example). Leaving these arguments blank will result in the summary/analysis of all years and months of the provided dataset.</p>
<p>To group analyses by water, or hydrologic, years instead of calendar years, if desired, you can set <code>water_year_start</code> within most functions to another month than 1 (for January). A water year can be defined as a 12-month period that comprises a complete hydrologic cycle (wet seasons can typically cross calendar year), typically starting with the month with minimum flows (the start of a new water recharge cycle). As water years commonly start in October, the default water year is October for ‘fasstr’. If another start month is desired, you can choose is using the <code>water_year_start</code> argument (numeric month) to designate the water year time period. The water year label is designated by the year it ends in (e.g. water year 2000 goes from Oct 1, 1999 to Sep 30, 2000). Start, end and excluded years will be based on the specified water year.</p>
<p>For your own analyses, you can add date variables to your dataset using the <code><a href="../reference/add_date_variables.html">add_date_variables()</a></code> or <code><a href="../reference/add_seasons.html">add_seasons()</a></code> functions.</p>
</div>
<div id="drainage-basin-area" class="section level4">
<h4 class="hasAnchor">
<a href="#drainage-basin-area" class="anchor"></a>Drainage Basin Area</h4>
<p>Yield runoff statistics (in millimetres) calculated in the some of the functions require an upstream drainage basin area (in sq. km) using the <code>basin_area</code> argument, where required. If no basin areas are supplied, all yield results will be <code>NA</code>. To apply a basin area (10 sqkm for example) to all daily observations, set the argument as <code>basin_area = 10</code>. If there are multiple stations or groups to apply multiple basin areas (using the <code>groups</code> argument), set them individually using this option: <code>basin_area = c("08NM116" = 795,  "08NM242" = 22)</code>. If a STATION_NUMBER column exists with HYDAT station numbers, the function will automatically use the basin areas provided in HYDAT, if available, so <code>basin_area</code> is not required. For your own analyses, you can add basin areas to your dataset using the <code><a href="../reference/add_basin_area.html">add_basin_area()</a></code> function.</p>
</div>
<div id="handling-missing-dates" class="section level4">
<h4 class="hasAnchor">
<a href="#handling-missing-dates" class="anchor"></a>Handling Missing Dates</h4>
<p>With the use of the <code>ignore_missing</code> argument in most function, you can decide how to handle dates with missing flow values in calculations. When you set <code>ignore_missing = TRUE</code> a statistic will be calculated for a given year, all years, or month regardless of if there are missing flow values. When <code>ignore_missing = FALSE</code> the returned value for the period will be <code>NA</code> if there are missing values.</p>
<p>Some functions have an argument called <code>complete_years</code> which can be used, when set to <code>TRUE</code>, to filter out years that have partial datasets (for seasonal or other reasons) and only years with full data are used to calculate statistics.</p>
</div>
</div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div id="summary-statistics-example-long-term-statistics" class="section level3">
<h3 class="hasAnchor">
<a href="#summary-statistics-example-long-term-statistics" class="anchor"></a>Summary statistics example: long-term statistics</h3>
<p>To determine the summary statistics of daily data by month (mean, median, maximum, minimum, and some percentiles) you can use the <code><a href="../reference/calc_longterm_daily_stats.html">calc_longterm_daily_stats()</a></code> function. If the ‘Mission Creek near East Kelowna’ hydrometric station is of interest you can list the station number in the <code>station_number</code> argument to obtain the data (if ‘tidyhydat’ and HYDAT are installed).</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/calc_longterm_daily_stats.html">calc_longterm_daily_stats</a></span>(<span class="kw">station_number</span> <span class="kw">=</span> <span class="st">"08NM116"</span>,
                          <span class="kw">start_year</span> <span class="kw">=</span> <span class="fl">1981</span>,
                          <span class="kw">end_year</span> <span class="kw">=</span> <span class="fl">2010</span>,
                          <span class="kw">custom_months</span> <span class="kw">=</span> <span class="fl">7</span>:<span class="fl">9</span>,
                          <span class="kw">custom_months_label</span> <span class="kw">=</span> <span class="st">"Summer"</span>)</pre></body></html></div>
<pre><code>## # A tibble: 14 x 8
##    STATION_NUMBER Month      Mean Median Maximum Minimum   P10   P90
##    &lt;chr&gt;          &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 08NM116        Jan        1.22  1        9.5    0.160 0.540  1.85
##  2 08NM116        Feb        1.16  0.970    4.41   0.140 0.474  1.99
##  3 08NM116        Mar        1.85  1.40     9.86   0.380 0.705  3.80
##  4 08NM116        Apr        8.32  6.26    37.9    0.505 1.63  17.5 
##  5 08NM116        May       23.6  20.8     74.4    3.83  9.33  41.2 
##  6 08NM116        Jun       21.5  19.5     84.5    0.450 6.10  38.9 
##  7 08NM116        Jul        6.48  3.90    54.5    0.332 1.02  15   
##  8 08NM116        Aug        2.13  1.57    13.3    0.427 0.775  4.29
##  9 08NM116        Sep        2.19  1.58    14.6    0.364 0.735  4.35
## 10 08NM116        Oct        2.10  1.60    15.2    0.267 0.794  3.98
## 11 08NM116        Nov        2.04  1.73    11.7    0.260 0.560  3.90
## 12 08NM116        Dec        1.30  1.05     7.30   0.342 0.5    2.33
## 13 08NM116        Long-term  6.17  1.89    84.5    0.140 0.680 19.3 
## 14 08NM116        Summer     3.61  1.98    54.5    0.332 0.799  7.64</code></pre>
</div>
<div id="plotting-example-daily-summary-statistics" class="section level3">
<h3 class="hasAnchor">
<a href="#plotting-example-daily-summary-statistics" class="anchor"></a>Plotting example: daily summary statistics</h3>
<p>To visualize the daily streamflow patterns on an annual basis, the <code><a href="../reference/plot_daily_stats.html">plot_daily_stats()</a></code> function will plot out various summary statistics for each day of the year. Data can also be filtered for certain years of interest (a 1981-2010 normals period for this example) using the <code>start_year</code> and <code>end_year</code> arguments. We can also compare individual years against the statistics using <code>add_year</code> argument like below.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_daily_stats.html">plot_daily_stats</a></span>(<span class="kw">station_number</span> <span class="kw">=</span> <span class="st">"08NM116"</span>,
                 <span class="kw">start_year</span> <span class="kw">=</span> <span class="fl">1981</span>,
                 <span class="kw">end_year</span> <span class="kw">=</span> <span class="fl">2010</span>,
                 <span class="kw">log_discharge</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                 <span class="kw">add_year</span> <span class="kw">=</span> <span class="fl">1991</span>,
                 <span class="kw">ignore_missing</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<pre><code>## $Daily_Statistics</code></pre>
<p><img src="fasstr_files/figure-html/plot1-1.png" width="960"></p>
</div>
<div id="plotting-example-flow-duration-curves" class="section level3">
<h3 class="hasAnchor">
<a href="#plotting-example-flow-duration-curves" class="anchor"></a>Plotting example: flow duration curves</h3>
<p>Flow duration curves can be produced using the <code><a href="../reference/plot_flow_duration.html">plot_flow_duration()</a></code> function.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="../reference/plot_flow_duration.html">plot_flow_duration</a></span>(<span class="kw">station_number</span> <span class="kw">=</span> <span class="st">"08NM116"</span>,
                   <span class="kw">start_year</span> <span class="kw">=</span> <span class="fl">1981</span>,
                   <span class="kw">end_year</span> <span class="kw">=</span> <span class="fl">2010</span>)</pre></body></html></div>
<pre><code>## $Flow_Duration</code></pre>
<p><img src="fasstr_files/figure-html/plot2-1.png" width="672"></p>
</div>
<div id="analysis-example-low-flow-frequency-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#analysis-example-low-flow-frequency-analysis" class="anchor"></a>Analysis example: low-flow frequency analysis</h3>
<p>This package also provides a function, <code><a href="../reference/compute_annual_frequencies.html">compute_annual_frequencies()</a></code>, to complete frequency analyses (using the same methods as <a href="http://www.hec.usace.army.mil/software/hec-ssp/">HEC-SSP</a>). The default fitting distribution is ‘log-Pearson Type III’, but the ‘Weibull’ distribution can also be used. Other default plotting and fitting methods are described in the function documentation. For this example, the 7-day low-flow (low-flow is default) quantiles are calculated for the Mission Creek hydrometric station using the ‘log-Pearson Type III’ distribution. With this, several low-flow indicators can be determined (i.e. 7Q5, 7Q10).</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">freq_results</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/compute_annual_frequencies.html">compute_annual_frequencies</a></span>(<span class="kw">station_number</span> <span class="kw">=</span> <span class="st">"08NM116"</span>,
                                           <span class="kw">start_year</span> <span class="kw">=</span> <span class="fl">1981</span>,
                                           <span class="kw">end_year</span> <span class="kw">=</span> <span class="fl">2010</span>,
                                           <span class="kw">roll_days</span> <span class="kw">=</span> <span class="fl">7</span>)
<span class="no">freq_results</span>$<span class="no">Freq_Fitted_Quantiles</span></pre></body></html></div>
<pre><code>## # A tibble: 11 x 4
##    Distribution Probability `Return Period` `7-Day`
##    &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt;   &lt;dbl&gt;
##  1 PIII               0.01           100      0.193
##  2 PIII               0.05            20      0.277
##  3 PIII               0.1             10      0.332
##  4 PIII               0.2              5      0.408
##  5 PIII               0.5              2      0.588
##  6 PIII               0.8              1.25   0.812
##  7 PIII               0.9              1.11   0.946
##  8 PIII               0.95             1.05   1.07 
##  9 PIII               0.975            1.03   1.17 
## 10 PIII               0.98             1.02   1.21 
## 11 PIII               0.99             1.01   1.31</code></pre>
<p>The probability of observed extreme events can also be plotted (using selected plotting position) along with the computed quantiles curve for comparison.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">freq_results</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/compute_annual_frequencies.html">compute_annual_frequencies</a></span>(<span class="kw">station_number</span> <span class="kw">=</span> <span class="st">"08NM116"</span>,
                                           <span class="kw">start_year</span> <span class="kw">=</span> <span class="fl">1981</span>,
                                           <span class="kw">end_year</span> <span class="kw">=</span> <span class="fl">2010</span>,
                                           <span class="kw">roll_days</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">7</span>,<span class="fl">30</span>))
<span class="no">freq_results</span>$<span class="no">Freq_Plot</span></pre></body></html></div>
<p><img src="fasstr_files/figure-html/plot3-1.png" width="672"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jon Goetz, Carl James Schwarz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
